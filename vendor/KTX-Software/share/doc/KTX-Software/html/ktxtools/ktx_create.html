<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KTX Tools Reference: ktx create</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ktx_logo_200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KTX Tools Reference
   &#160;<span id="projectnumber">4.3.2</span>
   </div>
   <div id="projectbrief">Libraries and tools to create and read KTX image texture files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ktx_create.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ktx create </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Create a KTX2 file from various input files.</p>
<h1><a class="anchor" id="ktx_create_synopsis"></a>
SYNOPSIS</h1>
<p>ktx create [option...] <em>input-file</em>... <em>output-file</em> </p>
<h1><a class="anchor" id="ktx_create_description"></a>
DESCRIPTION</h1>
<p><b>ktx</b> <b>create</b> can create, encode and supercompress a KTX2 file from the input images specified as the <em>input-file</em>... arguments and save it as the <em>output-file</em>. The last positional argument is treated as the <em>output-file</em>. If the <em>input-file</em> is '-' the file will be read from the stdin. If the <em>output-path</em> is '-' the output file will be written to the stdout.</p>
<p>Each <em>input-file</em> must be a valid EXR (.exr), PNG (.png) or Raw (.raw) file. PNG files with luminance (L) or luminance + alpha (LA) data will be converted to RGB as LLL and RGBA as LLLA before processing further. The input file formats must be compatible with the requested KTX format enum and must have at least the same level of precision and number of channels. Any unused channel will be discarded silently.</p>
<p>The number of input-files specified must match the expected number of input images based on the used options.</p>
<p>The following options are available: </p><dl>
<dt>--format &lt;enum&gt; </dt>
<dd>KTX format enum that specifies the image data format. The enum names are matching the VkFormats without the VK_FORMAT_ prefix. The VK_FORMAT_ prefix is ignored if present.<br  />
 When used with &ndash;encode it specifies the format of the input files before the encoding step. In this case it must be one of: <ul>
<li>
R8_UNORM </li>
<li>
R8_SRGB </li>
<li>
R8G8_UNORM </li>
<li>
R8G8_SRGB </li>
<li>
R8G8B8_UNORM </li>
<li>
R8G8B8_SRGB </li>
<li>
R8G8B8A8_UNORM </li>
<li>
R8G8B8A8_SRGB </li>
</ul>
If the format is an ASTC format the ASTC encoder specific options become valid, otherwise they are ignored.<br  />
 The format will be used to verify and load all input files into a texture before encoding.<br  />
 Case insensitive. Required. <dl>
<dt>--astc-quality &lt;level&gt; </dt>
<dd>The quality level configures the quality-performance tradeoff for the compressor; more complete searches of the search space improve image quality at the expense of compression time. Default is 'medium'. The quality level can be set between fastest (0) and exhaustive (100) via the following fixed quality presets: <table class="doxtable">
<tr>
<th>Level  </th><th>Quality  </th></tr>
<tr>
<td>fastest  </td><td>(equivalent to quality = 0)  </td></tr>
<tr>
<td>fast  </td><td>(equivalent to quality = 10)  </td></tr>
<tr>
<td>medium  </td><td>(equivalent to quality = 60)  </td></tr>
<tr>
<td>thorough  </td><td>(equivalent to quality = 98)  </td></tr>
<tr>
<td>exhaustive  </td><td>(equivalent to quality = 100)  </td></tr>
</table>
</dd>
<dt>--astc-perceptual </dt>
<dd>The codec should optimize for perceptual error, instead of direct RMS error. This aims to improve perceived image quality, but typically lowers the measured PSNR score. Perceptual methods are currently only available for normal maps and RGB color data. </dd>
</dl>
</dd>
<dt>--1d </dt>
<dd>Create a 1D texture. If not set the texture will be a 2D or 3D texture. </dd>
<dt>--cubemap </dt>
<dd>Create a cubemap texture. If not set the texture will be a 2D or 3D texture. </dd>
<dt>--raw </dt>
<dd>Create from raw image data. </dd>
<dt>--width </dt>
<dd>Base level width in pixels. </dd>
<dt>--height </dt>
<dd>Base level height in pixels. </dd>
<dt>--depth </dt>
<dd>Base level depth in pixels. If set the texture will be a 3D texture. </dd>
<dt>--layers </dt>
<dd>Number of layers. If set the texture will be an array texture. </dd>
<dt>--runtime-mipmap </dt>
<dd>Runtime mipmap generation mode. Sets up the texture to request the mipmaps to be generated by the client application at runtime. </dd>
<dt>--generate-mipmap </dt>
<dd>Causes mipmaps to be generated during texture creation. If the &ndash;levels is not specified the maximum possible mip level will be generated. This option is mutually exclusive with &ndash;runtime-mipmap and cannot be used with SINT, UINT or 3D textures. When set it enables the use of the following \'Generate Mipmap\' options. <dl>
<dt>--mipmap-filter &lt;filter&gt; </dt>
<dd>Specifies the filter to use when generating the mipmaps. Case insensitive.<br  />
 Possible options are: box | tent | bell | b-spline | mitchell | blackman | lanczos3 | lanczos4 | lanczos6 | lanczos12 | kaiser | gaussian | catmullrom | quadratic_interp | quadratic_approx | quadratic_mix. Defaults to lanczos4. </dd>
<dt>--mipmap-filter-scale &lt;float&gt; </dt>
<dd>The filter scale to use. Defaults to 1.0. </dd>
<dt>--mipmap-wrap &lt;mode&gt; </dt>
<dd>Specify how to sample pixels near the image boundaries. Case insensitive.<br  />
 Possible options are: wrap | reflect | clamp. Defaults to clamp. </dd>
</dl>
</dd>
</dl>
<dl>
<dt>--encode basis-lz | uastc&lt; </dt>
<dd><p class="startdd">Encode the texture with the specified codec before saving it. This option matches the functionality of the <a class="el" href="ktx_encode.html">ktx encode</a> command. With each encoding option the following encoder specific options become valid, otherwise they are ignored. Case-insensitive.</p>
<p class="enddd"><dl>
<dt>basis-lz:  </dt>
<dd><p class="startdd">Supercompress the image data with ETC1S / BasisLZ. RED images will become RGB with RED in each component (RRR). RG images will have R in the RGB part and G in the alpha part of the compressed texture (RRRG). When set, the following BasisLZ-related options become valid, otherwise they are ignored. </p>
<dl>
<dt>--clevel &lt;level&gt; </dt>
<dd>ETC1S / BasisLZ compression level, an encoding speed vs. quality tradeoff. Range is [0,5], default is 1. Higher values are slower but give higher quality. </dd>
<dt>--qlevel &lt;level&gt; </dt>
<dd><p class="startdd">ETC1S / BasisLZ quality level. Range is [1,255]. Lower gives better compression/lower quality/faster. Higher gives less compression/higher quality/slower. <b>--qlevel</b> automatically determines values for <b>--max-endpoints</b>, <b>--max-selectors</b>, <b>--endpoint-rdo-threshold</b> and <b>--selector-rdo-threshold</b> for the target quality level. Setting these options overrides the values determined by -qlevel which defaults to 128 if neither it nor <b>--max-endpoints</b> and <b>--max-selectors</b> have been set.</p>
<p class="interdd">Note that both of <b>--max-endpoints</b> and <b>--max-selectors</b> must be set for them to have any effect. If all three options are set, a warning will be issued that <b>--qlevel</b> will be ignored.</p>
<p class="enddd">Note also that <b>--qlevel</b> will only determine values for <b>--endpoint-rdo-threshold</b> and <b>--selector-rdo-threshold</b> when its value exceeds 128, otherwise their defaults will be used. </p>
</dd>
<dt>--max-endpoints &lt;arg&gt; </dt>
<dd>Manually set the maximum number of color endpoint clusters. Range is [1,16128]. Default is 0, unset. </dd>
<dt>--endpoint-rdo-threshold &lt;arg&gt; </dt>
<dd>Set endpoint RDO quality threshold. The default is 1.25. Lower is higher quality but less quality per output bit (try [1.0,3.0]). This will override the value chosen by <b>--qlevel</b>. </dd>
<dt>--max-selectors &lt;arg&gt; </dt>
<dd>Manually set the maximum number of color selector clusters from [1,16128]. Default is 0, unset. </dd>
<dt>--selector-rdo-threshold &lt;arg&gt; </dt>
<dd>Set selector RDO quality threshold. The default is 1.25. Lower is higher quality but less quality per output bit (try [1.0,3.0]). This will override the value chosen by <b>--qlevel</b>. </dd>
<dt>--no-endpoint-rdo </dt>
<dd>Disable endpoint rate distortion optimizations. Slightly faster, less noisy output, but lower quality per output bit. Default is to do endpoint RDO. </dd>
<dt>--no-selector-rdo </dt>
<dd>Disable selector rate distortion optimizations. Slightly faster, less noisy output, but lower quality per output bit. Default is to do selector RDO. </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt>uastc:  </dt>
<dd><p class="startdd">Create a texture in high-quality transcodable UASTC format. </p>
<dl>
<dt>--uastc-quality &lt;level&gt; </dt>
<dd><p class="startdd">This optional parameter selects a speed vs quality tradeoff as shown in the following table:</p>
<table class="doxtable">
<tr>
<th>Level </th><th>Speed </th><th>Quality </th></tr>
<tr>
<td>0 </td><td>Fastest </td><td>43.45dB </td></tr>
<tr>
<td>1 </td><td>Faster </td><td>46.49dB </td></tr>
<tr>
<td>2 </td><td>Default </td><td>47.47dB </td></tr>
<tr>
<td>3 </td><td>Slower </td><td>48.01dB </td></tr>
<tr>
<td>4 </td><td>Very slow </td><td>48.24dB </td></tr>
</table>
<p class="enddd">You are strongly encouraged to also specify <b>--zstd</b> to losslessly compress the UASTC data. This and any LZ-style compression can be made more effective by conditioning the UASTC texture data using the Rate Distortion Optimization (RDO) post-process stage. When uastc encoding is set the following options become available for controlling RDO: </p>
</dd>
<dt>--uastc-rdo </dt>
<dd>Enable UASTC RDO post-processing. </dd>
<dt>--uastc-rdo-l &lt;lambda&gt; </dt>
<dd><p class="startdd">Set UASTC RDO quality scalar (lambda) to <em>lambda</em>. Lower values yield higher quality/larger LZ compressed files, higher values yield lower quality/smaller LZ compressed files. A good range to try is [.25,10]. For normal maps a good range is [.25,.75]. The full range is [.001,10.0]. Default is 1.0.</p>
<p class="enddd">Note that previous versions used the <b>--uastc-rdo-q</b> option which was removed because the RDO algorithm changed. </p>
</dd>
<dt>--uastc-rdo-d &lt;dictsize&gt; </dt>
<dd>Set UASTC RDO dictionary size in bytes. Default is 4096. Lower values=faster, but give less compression. Range is [64,65536]. </dd>
<dt>--uastc-rdo-b &lt;scale&gt; </dt>
<dd>Set UASTC RDO max smooth block error scale. Range is [1.0,300.0]. Default is 10.0, 1.0 is disabled. Larger values suppress more artifacts (and allocate more bits) on smooth blocks. </dd>
<dt>--uastc-rdo-s &lt;deviation&gt; </dt>
<dd>Set UASTC RDO max smooth block standard deviation. Range is [.01,65536.0]. Default is 18.0. Larger values expand the range of blocks considered smooth. </dd>
<dt>--uastc-rdo-f </dt>
<dd>Do not favor simpler UASTC modes in RDO mode. </dd>
<dt>--uastc-rdo-m </dt>
<dd>Disable RDO multithreading (slightly higher compression, deterministic). </dd>
</dl>
<p class="enddd"></p>
</dd>
<dt>common:  </dt>
<dd><p class="startdd">Common options. </p>
<dl>
<dt>--normal-mode </dt>
<dd><p class="startdd">Only valid for linear textures with two or more components. If the input texture has three or four linear components it is assumed to be a three component linear normal map storing unit length normals as (R=X, G=Y, B=Z). A fourth component will be ignored. The map will be converted to a two component X+Y normal map stored as (RGB=X, A=Y) prior to encoding. If unsure that your normals are unit length, use <b>--normalize</b>. If the input has 2 linear components it is assumed to be an X+Y map of unit normals.</p>
<p class="enddd">The Z component can be recovered programmatically in shader code by using the equations: </p><pre>
    nml.xy = texture(...).ga;              // Load in [0,1]
    nml.xy = nml.xy * 2.0 - 1.0;           // Unpack to [-1,1]
    nml.z = sqrt(1 - dot(nml.xy, nml.xy)); // Compute Z
            </pre><p> For ETC1S / BasisLZ encoding, <b>'--encode</b> basis-lz', RDO is disabled (no selector RDO, no endpoint RDO) to provide better quality. </p>
</dd>
<dt>--threads &lt;count&gt; </dt>
<dd>Explicitly set the number of threads to use during compression. By default, ETC1S / BasisLZ will use the number of threads reported by thread::hardware_concurrency or 1 if value returned is 0. </dd>
<dt>--no-sse </dt>
<dd>Forbid use of the SSE instruction set. Ignored if CPU does not support SSE. SSE can only be disabled on the basis-lz and uastc compressors. </dd>
</dl>
</dd>
</dl>
 <dl>
<dt>--compare-ssim </dt>
<dd>Calculate encoding structural similarity index measure (SSIM) and print it to stdout. Requires Basis-LZ or UASTC encoding. </dd>
<dt>--compare-psnr </dt>
<dd>Calculate encoding peak signal-to-noise ratio (PSNR) and print it to stdout. Requires Basis-LZ or UASTC encoding. </dd>
</dl>
 </p>
</dd>
</dl>
<dl>
<dt>--swizzle [rgba01]{4} </dt>
<dd>KTX swizzle metadata. </dd>
<dt>--input-swizzle [rgba01]{4} </dt>
<dd>Pre-swizzle input channels. </dd>
<dt>--assign-oetf &lt;oetf&gt; </dt>
<dd>Force the created texture to have the specified transfer function, ignoring the transfer function of the input file(s). Case insensitive. Possible options are: linear | srgb  </dd>
<dt>--assign-primaries &lt;primaries&gt; </dt>
<dd>Force the created texture to have the specified color primaries, ignoring the color primaries of the input file(s). Case insensitive. Possible options are: none | bt709 | srgb | bt601-ebu | bt601-smpte | bt2020 | ciexyz | aces | acescc | ntsc1953 | pal525 | displayp3 | adobergb  </dd>
<dt>--convert-oetf &lt;oetf&gt; </dt>
<dd>Convert the input image(s) to the specified transfer function, if different from the transfer function of the input file(s). If both this and &ndash;assign-oetf are specified, conversion will be performed from the assigned transfer function to the transfer function specified by this option, if different. Case insensitive. Possible options are: linear | srgb  </dd>
<dt>--convert-primaries &lt;primaries&gt; </dt>
<dd>Convert the image image(s) to the specified color primaries, if different from the color primaries of the input file(s) or the one specified by &ndash;assign-primaries. If both this and &ndash;assign-primaries are specified, conversion will be performed from the assigned primaries to the primaries specified by this option, if different. This option is not allowed to be specified when &ndash;assign-primaries is set to 'none'. Case insensitive. Possible options are: bt709 | srgb | bt601-ebu | bt601-smpte | bt2020 | ciexyz | aces | acescc | ntsc1953 | pal525 | displayp3 | adobergb  </dd>
<dt>--fail-on-color-conversions </dt>
<dd>Generates an error if any of the input images would need to be color converted. </dd>
<dt>--warn-on-color-conversions </dt>
<dd>Generates a warning if any of the input images are color converted. </dd>
</dl>
<p><dl>
<dt>--zstd &lt;level&gt; </dt>
<dd>Supercompress the data with Zstandard. Cannot be used with ETC1S / BasisLZ format. Level range is [1,22]. Lower levels give faster but worse compression. Values above 20 should be used with caution as they require more memory.  </dd>
<dt>--zlib &lt;level&gt; </dt>
<dd>Supercompress the data with ZLIB. Cannot be used with ETC1S / BasisLZ format. Level range is [1,9]. Lower levels give faster but worse compression.  </dd>
</dl>
 <dl>
<dt>-h, --help </dt>
<dd>Print this usage message and exit. </dd>
<dt>-v, --version </dt>
<dd>Print the version number of this program and exit. </dd>
</dl>
 </p>
<h1><a class="anchor" id="ktx_create_exitstatus"></a>
EXIT STATUS</h1>
<p><ul>
<li>0 - Success</li>
<li>1 - Command line error</li>
<li>2 - IO failure</li>
<li>3 - Invalid input file</li>
<li>4 - Runtime or library error</li>
<li>5 - Not supported state or operation</li>
<li>6 - Requested feature is not yet implemented </li>
</ul>
 </p>
<h1><a class="anchor" id="ktx_create_history"></a>
HISTORY</h1>
<dl class="section user"><dt>Version 4.0</dt><dd><ul>
<li>Initial version</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="ktx_create_author"></a>
AUTHOR</h1>
<ul>
<li>Mátyás Császár [Vader], RasterGrid www.rastergrid.com</li>
<li>Daniel Rákos, RasterGrid www.rastergrid.com </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Mar 20 2024 17:40:15 for KTX Tools Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
