<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KTX Tools Reference: toktx</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ktx_logo_200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KTX Tools Reference
   &#160;<span id="projectnumber">4.3.2</span>
   </div>
   <div id="projectbrief">Libraries and tools to create and read KTX image texture files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('toktx.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">toktx </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Create a KTX file from JPEG, PNG or netpbm format files.</p>
<h1><a class="anchor" id="toktx_synopsis"></a>
SYNOPSIS</h1>
<p>toktx [options] <em>outfile</em> [<em>infile</em>.{jpg,png,pam,pgm,ppm} ...]</p>
<h1><a class="anchor" id="toktx_description"></a>
DESCRIPTION</h1>
<p>Create a Khronos format texture file (KTX) from a set of JPEG (.jpg), PNG (.png) or Netpbm format (.pam, .pgm, .ppm) images. It writes the destination ktx file to <em>outfile</em>, creating parent directories and appending ".ktx{,2}" if necessary. If <em>outfile</em> is '-' the output will be written to stdout.</p>
<p><b>toktx</b> reads each named <em>infile</em>. which must be in .jpg, .png, .pam, .ppm or .pgm format. <em>infiles</em> prefixed with '@' are read as text files listing actual file names to process with one file path per line. Paths must be absolute or relative to the current directory when <b>toktx</b> is run. If '@@' is used instead, paths must be absolute or relative to the location of the list file. File paths must be encoded in UTF-8.</p>
<p>The target texture type (number of components in the output texture) is chosen via <b>&ndash;target_type</b>. Swizzling of the components of the input file is specified with <b>&ndash;input_swizzle</b> and swizzzle metadata can be specified with <b>&ndash;swizzle</b>. Defaults, shown in the following table, are based on the components of the input file and whether the target texture format is uncompressed or block-compressed including the universal formats. Input components are arbitrarily labeled r, g, b &amp; a.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadCenter" colspan="4">Uncompressed Formats   </th><th class="markdownTableHeadCenter" colspan="4">Block-compressed formats    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Input components   </td><td class="markdownTableBodyCenter">1 (greyscale)   </td><td class="markdownTableBodyCenter">2 (greyscale alpha)   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">4    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Target type   </td><td class="markdownTableBodyCenter">R   </td><td class="markdownTableBodyCenter">RG   </td><td class="markdownTableBodyCenter">RGB   </td><td class="markdownTableBodyCenter">RGBA   </td><td class="markdownTableBodyCenter">RGB   </td><td class="markdownTableBodyCenter">RGBA   </td><td class="markdownTableBodyCenter">RGB   </td><td class="markdownTableBodyCenter">RGBA    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Input swizzle   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">rrr1   </td><td class="markdownTableBodyCenter">rrrg   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Swizzle   </td><td class="markdownTableBodyCenter">rrr1   </td><td class="markdownTableBodyCenter">rrrg   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td></tr>
</table>
<p>As can be seen from the table one- and two-component inputs are treated as luminance{,-alpha} in accordance with the JPEG and PNG specifications. For consistency Netpbm inputs are handled the same way. Use of R &amp; RG types for uncompressed formats saves space but note that the sRGB versions of these formats are not widely supported so a warning will be issued prompting you to convert the input to linear.</p>
<p>The primaries, transfer function (OETF) and the texture's sRGB-ness is set based on the input file unless <b>&ndash;assign_oetf</b> linear or <b>&ndash;assign_oetf</b> srgb is specified. For .jpg files <b>toktx</b> always sets BT709/sRGB primaries and the sRGB OETF in the output file and creates sRGB format textures. Netpbm files always use BT.709/sRGB primaries and the BT.709 OETF. <b>toktx</b> tranforms these images to the sRGB OETF, sets BT709/sRGB primaries and the sRGB OETF in the output file and creates sRGB format textures.</p>
<p>For .png files the OETF is set as follows:</p>
<dl>
<dt>No color-info chunks or sRGB chunk present: </dt>
<dd>primaries are set to BT.709 and OETF to sRGB. </dd>
<dt>sRGB chunk present: </dt>
<dd>primaries are set to BT.709 and OETF to sRGB. gAMA and cHRM chunks are ignored. </dd>
<dt>iCCP chunk present: </dt>
<dd>General ICC profiles are not yet supported by toktx or the KTX2 format. In future these images may be transformed to linear or sRGB OETF as appropriate for the profile. sRGB chunk must not be present.  </dd>
<dt>gAMA and/or cHRM chunks present without sRGB or iCCP: </dt>
<dd>If gAMA is &lt; 60000 the image is transformed to and the OETF is set to sRGB. otherwise the image is transformed to and the OETF is set to linear. The color primaries in cHRM are matched to one of the standard sets listed in the Khronos Data Format Specification (the KHR_DF_PRIMARIES values from khr_df.h) and the primaries field of the output file's DFD is set to the matched value. If no match is found the primaries field is set to UNSPECIFIED. </dd>
</dl>
<p>The following options are always available: </p><dl>
<dt>--2d </dt>
<dd>If the image height is 1, by default a KTX file for a 1D texture is created. With this option one for a 2D texture is created instead. </dd>
<dt>--automipmap </dt>
<dd>Causes the KTX file to be marked to request generation of a mipmap pyramid when the file is loaded. This option is mutually exclusive with <b>&ndash;genmipmap</b>, <b>&ndash;levels</b> and <b>&ndash;mipmap</b>. </dd>
<dt>--cubemap </dt>
<dd>KTX file is for a cubemap. At least 6 <em>infiles</em> must be provided, more if <b>&ndash;mipmap</b> or <b>&ndash;layers</b> is also specified. Provide the images in the order +X, -X, +Y, -Y, +Z, -Z where the arrangement is a left-handed coordinate system with +Y up. So if you're facing +Z, -X will be on your left and +X on your right. If <b>&ndash;layers</b> &gt; 1 is specified, provide the faces for layer 0 first then for layer 1, etc. Images must have an upper left origin so &ndash;lower_left_maps_to_s0t0 is ignored with this option. </dd>
<dt>--depth &lt;number&gt; </dt>
<dd>KTX file is for a 3D texture with a depth of <em>number</em> where <em>number</em> &gt; 0. Provide the file(s) for z=0 first then those for z=1, etc. It is an error to specify this together with <b>&ndash;layers</b> or <b>&ndash;cubemap</b>. </dd>
<dt>--genmipmap </dt>
<dd>Causes mipmaps to be generated for each input file. This option is mutually exclusive with <b>&ndash;automipmap</b> and <b>&ndash;mipmap</b>. When set, the following mipmap-generation related options become valid, otherwise they are ignored. <dl>
<dt>--filter &lt;name&gt; </dt>
<dd>Specifies the filter to use when generating the mipmaps. <em>name</em> is a string. The default is <em>lanczos4</em>. The following names are recognized: <em>box</em>, <em>tent</em>, <em>bell</em>, <em>b-spline</em>, <em>mitchell</em>, <em>lanczos3</em>, <em>lanczos4</em>, <em>lanczos6</em>, <em>lanczos12</em>, <em>blackman</em>, <em>kaiser</em>, <em>gaussian</em>, <em>catmullrom</em>, <em>quadratic_interp</em>, <em>quadratic_approx</em> and <em>quadratic_mix</em>. </dd>
<dt>--fscale &lt;floatVal&gt; </dt>
<dd>The filter scale to use. The default is 1.0. </dd>
<dt>--wmode &lt;mode&gt; </dt>
<dd>Specify how to sample pixels near the image boundaries. Values are <em>wrap</em>, <em>reflect</em> and <em>clamp</em>. The default is <em>clamp</em>. </dd>
</dl>
</dd>
<dt>--layers &lt;number&gt; </dt>
<dd>KTX file is for an array texture with <em>number</em> of layers where <em>number</em> &gt; 0. Provide the file(s) for layer 0 first then those for layer 1, etc. It is an error to specify this together with <b>&ndash;depth</b>. </dd>
<dt>--levels &lt;number&gt; </dt>
<dd>KTX file is for a mipmap pyramid with <em>number</em> of levels rather than a full pyramid. <em>number</em> must be &gt; 1 and &lt;= the maximum number of levels determined from the size of the base level image. Provide the base level image first, if using <b>&ndash;mipmap</b>. This option is mutually exclusive with <b>&ndash;automipmap</b>. </dd>
<dt>--mipmap </dt>
<dd>KTX file is for a mipmap pyramid with one <b>infile</b> being explicitly provided for each level. Provide the images in the order of layer then face or depth slice then level with the base-level image first then in order down to the 1x1 image or the level specified by <b>&ndash;levels</b>. <dl class="section note"><dt>Note</dt><dd>This ordering differs from that in the created texture as it is felt to be more user-friendly.</dd></dl>
This option is mutually exclusive with <b>&ndash;automipmap</b> and <b>&ndash;genmipmap</b>. </dd>
<dt>--nometadata </dt>
<dd>Do not write KTXorientation metadata into the output file. Metadata is written by default. Use of this option is not recommended. </dd>
<dt>--nowarn </dt>
<dd>Silence warnings which are issued when certain transformations are performed on input images. </dd>
<dt>--upper_left_maps_to_s0t0 </dt>
<dd>Map the logical upper left corner of the image to s0,t0. Although opposite to the OpenGL convention, this is the DEFAULT BEHAVIOUR. netpbm and PNG files have an upper left origin so this option does not flip the input images. When this option is in effect, toktx writes a KTXorientation value of S=r,T=d into the output file to inform loaders of the logical orientation. If an OpenGL {,ES} loader ignores the orientation value, the image will appear upside down. </dd>
<dt>--lower_left_maps_to_s0t0 </dt>
<dd>Map the logical lower left corner of the image to s0,t0. This causes the input netpbm and PNG images to be flipped vertically to a lower-left origin. When this option is in effect, toktx writes a KTXorientation value of S=r,T=u into the output file to inform loaders of the logical orientation. If a Vulkan loader ignores the orientation value, the image will appear upside down. This option is ignored with <b>&ndash;cubemap</b>.  </dd>
<dt>--assign_oetf &lt;linear|srgb&gt; </dt>
<dd>Force the created texture to have the specified transfer function. If this is specified, implicit or explicit color space information from the input file(s) will be ignored and no color transformation will be performed. USE WITH CAUTION preferably only when you know the file format information is wrong. </dd>
<dt>--assign_primaries &lt;bt709|none|srgb&gt; </dt>
<dd>Force the created texture to have the specified primaries. If this is specified, implicit or explicit color space information from the input file(s) will be ignored and no color transformation will be performed. USE WITH CAUTION preferably only when you know the file format information is wrong. </dd>
<dt>--convert_oetf &lt;linear|srgb&gt; </dt>
<dd>Convert the input images to the specified transfer function, if the current transfer function is different. If both this and <b>&ndash;assign_oetf</b> are specified, conversion will be performed from the assigned transfer function to the transfer function specified by this option, if different. </dd>
<dt>--convert_primaries &lt;primaries&gt; </dt>
<dd>Convert the image images to the specified color primaries, if different from the color primaries of the input file(s) or the one specified by &ndash;assign-primaries. If both this and &ndash;assign-primaries are specified, conversion will be performed from the assigned primaries to the primaries specified by this option, if different. This option is not allowed to be specified when &ndash;assign-primaries is set to 'none'. Case insensitive. Possible options are: bt709 | srgb | bt601-ebu | bt601-smpte | bt2020 | ciexyz | aces | acescc | ntsc1953 | pal525 | displayp3 | adobergb </dd>
<dt>--linear </dt>
<dd>Deprecated. Use <b>&ndash;assign_oetf</b> linear. </dd>
<dt>--srgb </dt>
<dd>Deprecated. Use <b>&ndash;assign_oetf</b> srgb. </dd>
<dt>--resize &lt;width&gt;x&lt;height&gt; </dt>
<dd>Resize images to <em>width</em> X <em>height</em>. This should not be used with <b>&ndash;mipmap</b> as it would resize all the images to the same size. Resampler options can be set via <b>&ndash;filter</b> and <b>&ndash;fscale</b>.  </dd>
<dt>--scale &lt;value&gt; </dt>
<dd>Scale images by <em>value</em> as they are read. Resampler options can be set via <b>&ndash;filter</b> and <b>&ndash;fscale</b>. . </dd>
<dt>--swizzle &lt;swizzle&gt; </dt>
<dd>Add swizzle metadata to the file being created. <em>swizzle</em> has the same syntax as the parameter for <b>&ndash;input_swizzle</b>. Not recommended for use with block-cmpressed textures, including Basis Universal formats, because something like <code>rabb</code> may yield drastically different error metrics if done after compression. </dd>
<dt>--target_type &lt;type&gt; </dt>
<dd>Specify the number of components in the created texture. <em>type</em> is one of the following strings: <code>R</code>, <code>RG</code>, <code>RGB</code> or <code>RGBA</code>. Excess input components will be dropped. Output components with no mapping from the input will be set to 0 or, if the alpha component, 1.0. </dd>
<dt>--t2 </dt>
<dd>Output in KTX2 format. Default is KTX. </dd>
</dl>
<p><dl>
<dt>--encode &lt;astc | etc1s | uastc&gt; </dt>
<dd>Compress the image data to ASTC, transcodable ETC1S / BasisLZ or high-quality transcodable UASTC format. Implies <b>--t2</b>. With each encoding option the following encoder specific options become valid, otherwise they are ignored. <dl>
<dt>astc: </dt>
<dd>Create a texture in high-quality ASTC format. </dd>
<dt>--astc_blk_d &lt;XxY | XxYxZ&gt; </dt>
<dd>Specify which block dimension to use for compressing the textures. e.g. <b>--astc_blk_d</b> 6x5 for 2D or <b>--astc_blk_d</b> 6x6x6 for 3D. 6x6 is the default for 2D. <table class="doxtable">
<tr>
<th>Supported 2D block dimensions are: </th></tr>
<tr>
<td>4x4 </td><td>8.00 bpp </td></tr>
<tr>
<td>5x4 </td><td>6.40 bpp </td></tr>
<tr>
<td>5x5 </td><td>5.12 bpp </td></tr>
<tr>
<td>6x5 </td><td>4.27 bpp </td></tr>
<tr>
<td>6x6 </td><td>3.56 bpp </td></tr>
<tr>
<td>8x5 </td><td>3.20 bpp </td></tr>
<tr>
<td>8x6 </td><td>2.67 bpp </td></tr>
<tr>
<td>10x5 </td><td>2.56 bpp </td></tr>
<tr>
<td>10x6 </td><td>2.13 bpp </td></tr>
<tr>
<td>8x8 </td><td>2.00 bpp </td></tr>
<tr>
<td>10x8 </td><td>1.60 bpp </td></tr>
<tr>
<td>10x10 </td><td>1.28 bpp </td></tr>
<tr>
<td>12x10 </td><td>1.07 bpp </td></tr>
<tr>
<td>12x12 </td><td>0.89 bpp </td></tr>
<tr>
<th>Supported 3D block dimensions are: </th></tr>
<tr>
<td>3x3x3 </td><td>4.74 bpp </td></tr>
<tr>
<td>4x3x3 </td><td>3.56 bpp </td></tr>
<tr>
<td>4x4x3 </td><td>2.67 bpp </td></tr>
<tr>
<td>4x4x4 </td><td>2.00 bpp </td></tr>
<tr>
<td>5x4x4 </td><td>1.60 bpp </td></tr>
<tr>
<td>5x5x4 </td><td>1.28 bpp </td></tr>
<tr>
<td>5x5x5 </td><td>1.02 bpp </td></tr>
<tr>
<td>6x5x5 </td><td>0.85 bpp </td></tr>
<tr>
<td>6x6x5 </td><td>0.71 bpp </td></tr>
<tr>
<td>6x6x6 </td><td>0.59 bpp </td></tr>
</table>
</dd>
<dt>--astc_mode &lt;ldr | hdr&gt; </dt>
<dd>Specify which encoding mode to use. LDR is the default unless the input image is 16-bit in which case the default is HDR. </dd>
<dt>--astc_quality &lt;level&gt; </dt>
<dd>The quality level configures the quality-performance tradeoff for the compressor; more complete searches of the search space improve image quality at the expense of compression time. Default is 'medium'. The quality level can be set between fastest (0) and exhaustive (100) via the following fixed quality presets: <table class="doxtable">
<tr>
<th>Level  </th><th>Quality  </th></tr>
<tr>
<td>fastest  </td><td>(equivalent to quality = 0)  </td></tr>
<tr>
<td>fast  </td><td>(equivalent to quality = 10)  </td></tr>
<tr>
<td>medium  </td><td>(equivalent to quality = 60)  </td></tr>
<tr>
<td>thorough  </td><td>(equivalent to quality = 98)  </td></tr>
<tr>
<td>exhaustive  </td><td>(equivalent to quality = 100)  </td></tr>
</table>
</dd>
<dt>--astc_perceptual </dt>
<dd>The codec should optimize for perceptual error, instead of direct RMS error. This aims to improve perceived image quality, but typically lowers the measured PSNR score. Perceptual methods are currently only available for normal maps and RGB color data. </dd>
</dl>
<dl>
<dt>etc1s: </dt>
<dd>Supercompress the image data with ETC1S / BasisLZ. RED images will become RGB with RED in each component. RG images will have R in the RGB part and G in the alpha part of the compressed texture. When set, the following BasisLZ-related options become valid, otherwise they are ignored. </dd>
<dt>--no_multithreading </dt>
<dd>Disable multithreading. Deprecated. For backward compatibility. Use <b>--threads</b> 1 instead. </dd>
<dt>--clevel &lt;level&gt; </dt>
<dd>ETC1S / BasisLZ compression level, an encoding speed vs. quality tradeoff. Range is [0,5], default is 1. Higher values are slower but give higher quality. </dd>
<dt>--qlevel &lt;level&gt; </dt>
<dd><p class="startdd">ETC1S / BasisLZ quality level. Range is [1,255]. Lower gives better compression/lower quality/faster. Higher gives less compression/higher quality/slower. <b>--qlevel</b> automatically determines values for <b>--max_endpoints</b>, <b>--max-selectors</b>, <b>--endpoint_rdo_threshold</b> and <b>--selector_rdo_threshold</b> for the target quality level. Setting these options overrides the values determined by -qlevel which defaults to 128 if neither it nor both of <b>--max_endpoints</b> and <b>--max_selectors</b> have been set.</p>
<p class="interdd">Note that both of <b>--max_endpoints</b> and <b>--max_selectors</b> must be set for them to have any effect. If all three options are set, a warning will be issued that <b>--qlevel</b> will be ignored.</p>
<p class="enddd">Note also that <b>--qlevel</b> will only determine values for <b>--endpoint_rdo_threshold</b> and <b>--selector_rdo_threshold</b> when its value exceeds 128, otherwise their defaults will be used. </p>
</dd>
<dt>--max_endpoints &lt;arg&gt; </dt>
<dd>Manually set the maximum number of color endpoint clusters. Range is [1,16128]. Default is 0, unset. </dd>
<dt>--endpoint_rdo_threshold &lt;arg&gt; </dt>
<dd>Set endpoint RDO quality threshold. The default is 1.25. Lower is higher quality but less quality per output bit (try [1.0,3.0]). This will override the value chosen by <b>--qlevel</b>. </dd>
<dt>--max_selectors &lt;arg&gt; </dt>
<dd>Manually set the maximum number of color selector clusters from [1,16128]. Default is 0, unset. </dd>
<dt>--selector_rdo_threshold &lt;arg&gt; </dt>
<dd>Set selector RDO quality threshold. The default is 1.25. Lower is higher quality but less quality per output bit (try [1.0,3.0]). This will override the value chosen by <b>--qlevel</b>. </dd>
<dt>--no_endpoint_rdo </dt>
<dd>Disable endpoint rate distortion optimizations. Slightly faster, less noisy output, but lower quality per output bit. Default is to do endpoint RDO. </dd>
<dt>--no_selector_rdo </dt>
<dd>Disable selector rate distortion optimizations. Slightly faster, less noisy output, but lower quality per output bit. Default is to do selector RDO. </dd>
</dl>
<dl>
<dt>uastc: </dt>
<dd>Create a texture in high-quality transcodable UASTC format. </dd>
<dt>--uastc_quality &lt;level&gt; </dt>
<dd><p class="startdd">This optional parameter selects a speed vs quality tradeoff as shown in the following table:</p>
<table class="doxtable">
<tr>
<th>Level </th><th>Speed </th><th>Quality </th></tr>
<tr>
<td>0 </td><td>Fastest </td><td>43.45dB </td></tr>
<tr>
<td>1 </td><td>Faster </td><td>46.49dB </td></tr>
<tr>
<td>2 </td><td>Default </td><td>47.47dB </td></tr>
<tr>
<td>3 </td><td>Slower </td><td>48.01dB </td></tr>
<tr>
<td>4 </td><td>Very slow </td><td>48.24dB </td></tr>
</table>
<p class="enddd">You are strongly encouraged to also specify <b>--zcmp</b> to losslessly compress the UASTC data. This and any LZ-style compression can be made more effective by conditioning the UASTC texture data using the Rate Distortion Optimization (RDO) post-process stage. When uastc encoding is set the following options become available for controlling RDO: </p>
</dd>
<dt>--uastc_rdo_l [&lt;lambda&gt;] </dt>
<dd><p class="startdd">Enable UASTC RDO post-processing and optionally set UASTC RDO quality scalar (lambda) to <em>lambda</em>. Lower values yield higher quality/larger LZ compressed files, higher values yield lower quality/smaller LZ compressed files. A good range to try is [.25,10]. For normal maps a good range is [.25,.75]. The full range is [.001,10.0]. Default is 1.0.</p>
<p class="enddd">Note that previous versions used the <b>--uastc_rdo_q</b> option which was removed because the RDO algorithm changed. </p>
</dd>
<dt>--uastc_rdo_d &lt;dictsize&gt; </dt>
<dd>Set UASTC RDO dictionary size in bytes. Default is 4096. Lower values=faster, but give less compression. Range is [64,65536]. </dd>
<dt>--uastc_rdo_b &lt;scale&gt; </dt>
<dd>Set UASTC RDO max smooth block error scale. Range is [1.0,300.0]. Default is 10.0, 1.0 is disabled. Larger values suppress more artifacts (and allocate more bits) on smooth blocks. </dd>
<dt>--uastc_rdo_s &lt;deviation&gt; </dt>
<dd>Set UASTC RDO max smooth block standard deviation. Range is [.01,65536.0]. Default is 18.0. Larger values expand the range of blocks considered smooth. </dd>
<dt>--uastc_rdo_f </dt>
<dd>Do not favor simpler UASTC modes in RDO mode. </dd>
<dt>--uastc_rdo_m </dt>
<dd>Disable RDO multithreading (slightly higher compression, deterministic). </dd>
</dl>
</dd>
<dt>--input_swizzle &lt;swizzle&gt; </dt>
<dd>Swizzle the input components according to <em>swizzle</em> which is an alhpanumeric sequence matching the regular expression <code>^</code>[rgba01]{4}$. </dd>
<dt>--normal_mode </dt>
<dd><p class="startdd">Only valid for linear textures with two or more components. If the input texture has three or four linear components it is assumed to be a three component linear normal map storing unit length normals as (R=X, G=Y, B=Z). A fourth component will be ignored. The map will be converted to a two component X+Y normal map stored as (RGB=X, A=Y) prior to encoding. If unsure that your normals are unit length, use <b>--normalize</b>. If the input has 2 linear components it is assumed to be an X+Y map of unit normals.</p>
<p class="interdd">The Z component can be recovered programmatically in shader code by using the equations: </p><pre>
      nml.xy = texture(...).ga;              // Load in [0,1]
      nml.xy = nml.xy * 2.0 - 1.0;           // Unpack to [-1,1]
      nml.z = sqrt(1 - dot(nml.xy, nml.xy)); // Compute Z
                 </pre><p> For ASTC encoding, '<b>--encode</b> astc', encoder parameters are tuned for better quality on normal maps. For ETC1S encoding, <b>'--encode</b> etc1s', RDO is disabled (no selector RDO, no endpoint RDO) to provide better quality.</p>
<p class="enddd">In <em>toktx</em> you can prevent conversion of the normal map to two components by specifying '<b>--input_swizzle</b> rgb1'. </p>
</dd>
<dt>--normalize </dt>
<dd>Normalize input normals to have a unit length. Only valid for linear textures with 2 or more components. For 2-component inputs 2D unit normals are calculated. Do not use these 2D unit normals to generate X+Y normals for --normal_mode. For 4-component inputs a 3D unit normal is calculated. 1.0 is used for the value of the 4th component. </dd>
<dt>--no_sse </dt>
<dd>Forbid use of the SSE instruction set. Ignored if CPU does not support SSE. Only the Basis Universal compressor uses SSE. </dd>
<dt>--bcmp </dt>
<dd>Deprecated. Use '<b>--encode</b> etc1s' instead. </dd>
<dt>--uastc [&lt;level&gt;] </dt>
<dd>Deprecated. Use '<b>--encode</b> uastc' instead. </dd>
<dt>--zcmp [&lt;compressionLevel&gt;] </dt>
<dd>Supercompress the data with Zstandard. Implies <b>--t2</b>. Can be used with data in any format except ETC1S / BasisLZ. Most effective with RDO-conditioned UASTC or uncompressed formats. The optional compressionLevel range is 1 - 22 and the default is 3. Lower values=faster but give less compression. Values above 20 should be used with caution as they require more memory. </dd>
<dt>--threads &lt;count&gt; </dt>
<dd>Explicitly set the number of threads to use during compression. By default, ETC1S / BasisLZ and ASTC compression will use the number of threads reported by thread::hardware_concurrency or 1 if value returned is 0. </dd>
<dt>--verbose </dt>
<dd>Print encoder/compressor activity status to stdout. Currently only the astc, etc1s and uastc encoders emit status. </dd>
</dl>
<p><dl>
<dt>-h, --help </dt>
<dd>Print this usage message and exit. </dd>
<dt>-v, --version </dt>
<dd>Print the version number of this program and exit. </dd>
</dl>
 In case of ambiguity, such as when the last option is one with an optional parameter, separate options from file names with " -- ".Any specified ASTC, ETC1S / BasisLZ, UASTC and supercompression options are recorded in the metadata item <code>KTXwriterScParams</code> in the output file.  Options can also be set in the environment variable TOKTX_OPTIONS. TOKTX_OPTIONS is parsed first. If conflicting options appear in TOKTX_OPTIONS or the command line, the last one seen wins. However if both <b>&ndash;automipmap</b> and <b>&ndash;mipmap</b> are seen, it is always flagged as an error. You can, for example, set TOKTX_OPTIONS=&ndash;lower_left_maps_to_s0t0 to change the default mapping of the logical image origin to match the GL convention.</p>
<h1><a class="anchor" id="toktx_exitstatus"></a>
EXIT STATUS</h1>
<p><b>toktx</b> exits 0 on success, 1 on command line errors and 2 on functional errors.</p>
<h1><a class="anchor" id="toktx_history"></a>
HISTORY</h1>
<dl class="section user"><dt>Version 4.0 (using new version numbering system)</dt><dd><ul>
<li>Add KTX version 2 support including Basis Universal encoding.</li>
<li>Add .png and .jpg readers.</li>
<li>Transform NetPBM input files to sRGB OETF.</li>
<li>Add mipmap generation.</li>
<li>Remove legacy items.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Version 1.3</dt><dd><ul>
<li>Switch to ktxTexture API.</li>
<li>Add &ndash;levels option.</li>
<li>Add &ndash;2d option.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Version 1.2</dt><dd><ul>
<li>Remove &ndash;sized; always create sized format.</li>
<li>Write metadata by default.</li>
<li>Bug fixes.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Version 1.1</dt><dd><ul>
<li>Moved &ndash;alpha and &ndash;luminance to legacy.</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="toktx_author"></a>
AUTHOR</h1>
<p>Mark Callow, Edgewise Consulting www.edgewise-consulting.com </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Mar 20 2024 17:40:15 for KTX Tools Reference by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
